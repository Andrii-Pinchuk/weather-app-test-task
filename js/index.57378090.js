(function(){"use strict";var t={6992:function(t,e,a){var i=a(9242),o=a(3396);function r(t,e){const a=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(a)}var s=a(89);const n={},c=(0,s.Z)(n,[["render",r]]);var l=c,d=a(2483),u=a(7139);const h=t=>((0,o.dD)("data-v-bddc11ea"),t=t(),(0,o.Cn)(),t),p={class:"main-page"},m={class:"tabs"},f=["onClick"],v=h((()=>(0,o._)("span",null,"Delete weather block",-1))),y=[v];function w(t,e,a,i,r,s){const n=(0,o.up)("MainHeader"),c=(0,o.up)("router-link"),l=(0,o.up)("CityWeatherBlock"),d=(0,o.up)("ModalWindow");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(n),(0,o._)("main",p,[(0,o._)("div",m,[(0,o.Wm)(c,{to:"/",class:(0,u.C_)(["tabs__link",{active:"/"===t.$route.path}])},{default:(0,o.w5)((()=>[(0,o.Uk)("Main")])),_:1},8,["class"]),(0,o.Wm)(c,{to:"/favorites",class:(0,u.C_)(["tabs__link",{active:"/favorites"===t.$route.path}])},{default:(0,o.w5)((()=>[(0,o.Uk)(" Favorite ")])),_:1},8,["class"])]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.weatherBlocks,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{key:t.id,class:"weather-block-wrap"},[(0,o.Wm)(l,{"favorite-city":s.favoriteCities[e]},null,8,["favorite-city"]),(0,o._)("button",{class:"button-delete-block warn",onClick:e=>s.removeWeatherBlock(t.id)},y,8,f)])))),128)),(0,o._)("button",{onClick:e[0]||(e[0]=(...t)=>s.addWeatherBlock&&s.addWeatherBlock(...t)),class:"button-add-block primary"},"Add new weather block")]),(0,o.Wm)(d,{ref:"modalWindow","on-confirm":r.onConfirm},{title:(0,o.w5)((()=>[(0,o._)("h3",null,(0,u.zw)(r.modalTitle),1)])),message:(0,o.w5)((()=>[(0,o._)("p",null,(0,u.zw)(r.modalMessage),1)])),_:1},8,["on-confirm"])],64)}a(560);var g=a(1266),_=a(6197);const C=t=>((0,o.dD)("data-v-cd3e50be"),t=t(),(0,o.Cn)(),t),k={key:0,class:"modal"},b={class:"modal__content"},D={class:"modal__title"},F=C((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[(0,o._)("path",{fill:"#b5b5d7",d:"M256 73.82A182.18 182.18 0 1 0 438.18 256 182.18 182.18 0 0 0 256 73.82zm90.615 272.724a24.554 24.554 0 0 1-34.712 0l-54.664-54.667-57.142 57.146a24.544 24.544 0 0 1-34.704-34.717l57.138-57.128-53.2-53.209a24.547 24.547 0 0 1 34.712-34.717l53.196 53.208 50.717-50.72a24.547 24.547 0 0 1 34.713 34.716l-50.713 50.722 54.659 54.65a24.56 24.56 0 0 1 0 34.717z","data-name":"Close"})],-1))),M=[F],A={class:"modal__message"},z={key:0,class:"modal__button-group"},I={key:1};function T(t,e,a,i,r,s){return r.showModal?((0,o.wg)(),(0,o.iD)("div",k,[(0,o._)("div",b,[(0,o._)("div",D,[(0,o.WI)(t.$slots,"title",{},void 0,!0),(0,o._)("button",{onClick:e[0]||(e[0]=(...t)=>s.closeModal&&s.closeModal(...t)),class:"modal__button modal__button--close"},M)]),(0,o._)("div",A,[(0,o.WI)(t.$slots,"message",{},void 0,!0)]),a.onConfirm?((0,o.wg)(),(0,o.iD)("div",z,[(0,o._)("button",{onClick:e[1]||(e[1]=(...t)=>s.closeModal&&s.closeModal(...t)),class:"modal__button warn"},"Cancel"),(0,o._)("button",{onClick:e[2]||(e[2]=(...t)=>s.confirmAction&&s.confirmAction(...t)),class:"modal__button primary"},"Confirm")])):((0,o.wg)(),(0,o.iD)("div",I,[(0,o._)("button",{onClick:e[3]||(e[3]=(...t)=>s.closeModal&&s.closeModal(...t)),class:"modal__button primary"},"Ok")]))])])):(0,o.kq)("",!0)}var x={props:{onConfirm:{type:Function,default:null},onCancel:{type:Function,default:null}},data(){return{showModal:!1}},methods:{openModal(){this.showModal=!0},closeModal(){this.onCancel&&this.onCancel(),this.showModal=!1},confirmAction(){this.onConfirm(),this.showModal=!1}}};const W=(0,s.Z)(x,[["render",T],["__scopeId","data-v-cd3e50be"]]);var H=W,O={name:"HomePage",components:{MainHeader:_.Z,CityWeatherBlock:g.Z,ModalWindow:H},computed:{favoriteCities(){return JSON.parse(localStorage.getItem("favoriteCities"))||[]}},data(){return{weatherBlocks:[{id:1}],maxVisibleBlocks:5,modalTitle:"",modalMessage:"",itemRefs:[],onConfirm:null}},methods:{addWeatherBlock(){if(this.weatherBlocks.length===this.maxVisibleBlocks)return this.modalTitle="Adding a block is forbidden",this.modalMessage="To add a block, remove one. You can only add up to 5 blocks",void this.$refs.modalWindow.openModal();const t=this.weatherBlocks[this.weatherBlocks.length-1],e={id:t.id+1};this.weatherBlocks.push(e)},removeWeatherBlock(t){if(1===this.weatherBlocks.length)return this.modalTitle="Deleting a block is forbidden",this.modalMessage="At least one block on the page",void this.$refs.modalWindow.openModal();const e=this.weatherBlocks.findIndex((e=>e.id===t));-1!==e&&(this.modalTitle="Delete a block ",this.modalMessage="Are you sure you want to delete the block?",this.onConfirm=()=>this.weatherBlocks.splice(e,1),this.$refs.modalWindow.openModal())},showFavoriteCities(){const t=JSON.parse(localStorage.getItem("favoriteCities"))||[];for(let e=1;e<t.length;e++)this.addWeatherBlock()}},created(){this.favoriteCities.length>0&&this.showFavoriteCities()}};const B=(0,s.Z)(O,[["render",w],["__scopeId","data-v-bddc11ea"]]);var S=B;const j=[{path:"/",name:"home",component:S},{path:"/favorites",name:"FavoritePage",component:()=>a.e(626).then(a.bind(a,5626))}],E=(0,d.p7)({history:(0,d.PO)("/weather-app-test-task/"),routes:j});var q=E,P=a(65),Z=(0,P.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}}),$=a(1076);const N=$.Z.create({baseURL:"https://api.openweathermap.org/data/2.5",params:{appid:"8800bde93040820d3813d41ae43a350f",units:"metric"}});var R=N;function Y(t){return{getCities({q:e,type:a}){return t.get("/find",{params:{q:e,type:a}})},getThreeHourForecast({lat:e,lon:a,exclude:i}){return t.get("/forecast",{params:{lat:e,lon:a,exclude:i}})}}}var L={weather:Y(R)},K={install(t){t.config.globalProperties.$api=L}};(0,i.ri)(l).use(Z).use(q).use(K).mount("#app")},6197:function(t,e,a){a.d(e,{Z:function(){return u}});var i=a(3396);const o={class:"main-header"},r=(0,i.uE)('<svg xmlns="http://www.w3.org/2000/svg" width="128" height="128" xml:space="preserve" data-v-31748334><path fill="#FFD700" d="m89.717 17.396 3.928.847-2.67 12.383-3.927-.846zM69.924 18.72l3.854 12.066-3.828 1.223-3.854-12.066zM49.612 31.039l9.344 8.514-2.706 2.97-9.345-8.513zM109.038 83.369l9.343 8.515-2.706 2.97-9.343-8.516zM115.679 67.377l12.33 2.681-.854 3.926-12.33-2.681zM125.457 46.337l1.231 3.824-12.016 3.87-1.231-3.825zM111.452 27.057l2.983 2.694-8.477 9.387-2.983-2.694z" data-v-31748334></path><g data-v-31748334><path fill="#FFD700" d="m94.467 89.071-1.672-3.652c8.753-4.003 14.407-12.824 14.407-22.477 0-13.604-11.016-24.671-24.556-24.671-9.563 0-18.328 5.646-22.325 14.385l-3.653-1.672c4.649-10.163 14.848-16.73 25.979-16.73 15.755 0 28.573 12.87 28.573 28.688 0 11.22-6.576 21.476-16.753 26.129z" data-v-31748334></path></g><g data-v-31748334><path fill="#B5B5D7" d="M93.46 110.602H18.509C8.303 110.602 0 102.265 0 92.017c0-8.853 6.185-16.376 14.649-18.175.795-15.373 13.506-27.634 29.017-27.634 13.715 0 25.558 9.756 28.396 23.024a19.928 19.928 0 0 1 3.366-.29c11.27 0 20.439 9.207 20.439 20.523 0 .148-.002.298-.006.449 4.648 1.077 8.046 5.219 8.044 10.202.001 5.782-4.685 10.486-10.445 10.486zM43.666 50.226c-13.806 0-25.039 11.281-25.039 25.147l.005 1.971-1.779.205c-7.317.84-12.835 7.061-12.835 14.468 0 8.032 6.501 14.567 14.491 14.567H93.46c3.544 0 6.428-2.901 6.428-6.468.002-3.515-2.732-6.349-6.227-6.452l-2.185-.065.249-2.172c.084-.73.124-1.372.124-1.961 0-9.102-7.367-16.506-16.421-16.506-1.46 0-2.953.211-4.438.628l-2.221.623-.312-2.286c-1.686-12.37-12.345-21.699-24.791-21.699z" data-v-31748334></path></g><g data-v-31748334><path fill="#B5B5D7" d="m27.925 76.648-4.018-.016c.043-11.628 9.502-21.089 21.085-21.089v4.018c-9.376.001-17.032 7.667-17.067 17.087z" data-v-31748334></path></g></svg><h1 data-v-31748334>Weather app</h1>',2),s=[r];function n(t,e,a,r,n,c){return(0,i.wg)(),(0,i.iD)("header",o,s)}var c={name:"MainHeader"},l=a(89);const d=(0,l.Z)(c,[["render",n],["__scopeId","data-v-31748334"]]);var u=d},1266:function(t,e,a){a.d(e,{Z:function(){return vt}});var i=a(3396),o=a(9242),r=a(7139);const s=t=>((0,i.dD)("data-v-4a65c15a"),t=t(),(0,i.Cn)(),t),n={class:"city-weather-block"},c={class:"city-weather-block__header"},l={key:0,class:"autocomplete"},d={key:0,class:"autocomplete__list"},u=["onClick"],h={key:0,xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"655.359",height:"655.359",viewBox:"0 0 6.827 6.827"},p=s((()=>(0,i._)("path",{style:{fill:"#ffd700","fill-rule":"nonzero",stroke:"#ffd700","stroke-width":"0.3"},d:"m3.51 1.252.546 1.536 1.628.043.29.008-.23.176-1.293.993.463 1.563.082.277-.239-.163-1.344-.923-1.343.923-.239.164.082-.278.462-1.564-1.292-.992-.23-.176.29-.008 1.63-.044.544-1.535.097-.274z"},null,-1))),m=[p],f={key:1,xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"655.359",height:"655.359",viewBox:"0 0 6.827 6.827"},v=s((()=>(0,i._)("path",{style:{fill:"none",stroke:"#ffd700","stroke-width":"0.3"},d:"m3.51 1.252.546 1.536 1.628.043.29.008-.23.176-1.293.993.463 1.563.082.277-.239-.163-1.344-.923-1.343.923-.239.164.082-.278.462-1.564-1.292-.992-.23-.176.29-.008 1.63-.044.544-1.535.097-.274z"},null,-1))),y=[v],w={key:0,class:"city-weather-block__help-text"},g={key:1},_={class:"city-weather-block__city-wrap"},C={class:"city-weather-block__forecast-wrap"},k={class:"city-weather-block__forecast-chart-wrap"};function b(t,e,a,s,p,v){const b=(0,i.up)("CityInfo"),D=(0,i.up)("CityWeatherForecastCard"),F=(0,i.up)("CityWeatherForecastChart");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",c,[a.readOnlyMode?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",l,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>p.searchInput=t),onInput:e[1]||(e[1]=(...t)=>v.handleInput&&v.handleInput(...t)),class:"autocomplete__input",placeholder:"Enter city name"},null,544),[[o.nr,p.searchInput]]),p.searchResults.length?((0,i.wg)(),(0,i.iD)("ul",d,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(p.searchResults,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t.id,onClick:e=>v.selectCity(t)},(0,r.zw)(t.name)+", "+(0,r.zw)(t.sys.country),9,u)))),128))])):(0,i.kq)("",!0)])),a.readOnlyMode?(0,i.kq)("",!0):(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{key:1,onClick:e[2]||(e[2]=(...t)=>v.toggleFavoriteStatus&&v.toggleFavoriteStatus(...t)),class:"button-favorite"},[p.isFavorite?((0,i.wg)(),(0,i.iD)("svg",h,m)):((0,i.wg)(),(0,i.iD)("svg",f,y))],512)),[[o.F8,p.selectedCity]])]),p.selectedCity?((0,i.wg)(),(0,i.iD)("div",g,[(0,i._)("div",_,[(0,i.Wm)(b,{city:p.selectedCity},null,8,["city"])]),(0,i._)("div",C,[(0,i.Wm)(D,{"forecast-data":this.forecastData},null,8,["forecast-data"])]),(0,i._)("div",k,[(0,i.Wm)(F,{"forecast-data":this.forecastData},null,8,["forecast-data"])])])):((0,i.wg)(),(0,i.iD)("p",w,"Please choose a city to see the weather"))])}a(560);const D=t=>((0,i.dD)("data-v-1dcd8311"),t=t(),(0,i.Cn)(),t),F={class:"city"},M={class:"city__title"},A={class:"city__subtitle"},z={class:"city__info-wrap"},I={class:"city__weather-info"},T={class:"city__weather-details"},x=D((()=>(0,i._)("h4",null,"Current weather",-1))),W=["src"],H={class:"city__additional-info"},O=D((()=>(0,i._)("h4",null,"Additional info",-1)));function B(t,e,a,o,s,n){return(0,i.wg)(),(0,i.iD)("div",F,[(0,i._)("h3",M,(0,r.zw)(a.city.name)+", "+(0,r.zw)(a.city.additionalInfo.country),1),(0,i._)("h4",A,(0,r.zw)(n.currentDateFormatted),1),(0,i._)("div",z,[(0,i._)("div",I,[(0,i._)("div",T,[x,(0,i._)("span",null,"Temperature: "+(0,r.zw)(Math.round(a.city.main.temp))+" °C",1),(0,i._)("span",null,"Feels Like: "+(0,r.zw)(Math.round(a.city.main.feels_like))+" °C",1),(0,i._)("span",null,"Humidity: "+(0,r.zw)(Math.round(a.city.main.humidity))+"%",1),(0,i._)("span",null,"Wind Speed: "+(0,r.zw)(Math.round(a.city.wind.speed))+" m/s",1),(0,i._)("span",null,"Cloudiness: "+(0,r.zw)(a.city.clouds.all)+"%",1)]),(0,i._)("img",{src:"https://openweathermap.org/img/wn/"+a.city.weather[0].icon+"@4x.png",alt:"Weather Icon",class:"city__weather-icon"},null,8,W)]),(0,i._)("div",H,[O,(0,i._)("span",null,"Population: "+(0,r.zw)(a.city.additionalInfo.population)+" ppl",1),(0,i._)("span",null,"Sunrise: "+(0,r.zw)(n.sunriseFormatted),1),(0,i._)("span",null,"Sunset: "+(0,r.zw)(n.sunsetFormatted),1)])])])}var S={name:"CityInfo",props:{city:{type:Object,required:!0}},computed:{sunriseFormatted(){return this.formatTime(this.city.additionalInfo.sunrise)},sunsetFormatted(){return this.formatTime(this.city.additionalInfo.sunset)},currentDateFormatted(){return this.formatDate(this.city.dt)}},methods:{formatTime(t){const e=new Date(1e3*t),a={hour:"numeric",minute:"numeric"};return new Intl.DateTimeFormat("en-US",a).format(e)},formatDate(t){const e=new Date(1e3*t);return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`}}},j=a(89);const E=(0,j.Z)(S,[["render",B],["__scopeId","data-v-1dcd8311"]]);var q=E;const P={class:"weather-forecast"},Z={class:"forecast-switch weather-forecast__switch"},$={key:0,class:"weather-forecast__row"},N={class:"forecast-item__time"},R=["src"],Y={class:"forecast-item__temp"},L={class:"forecast-item__humidity"},K={key:1,class:"weather-forecast__row"},U={class:"forecast-item__date"},J=["src"],V={class:"forecast-item__temp"},G={class:"forecast-item__humidity"},Q={key:2,class:"weather-forecast__row"},X={class:"forecast-item__date"},tt=["src"],et={class:"forecast-item__temp"},at={class:"forecast-item__humidity"};function it(t,e,a,o,s,n){return(0,i.wg)(),(0,i.iD)("div",P,[(0,i._)("div",Z,[(0,i._)("button",{class:(0,r.C_)({active:s.isHourlyActive}),onClick:e[0]||(e[0]=(...t)=>n.switchToHourly&&n.switchToHourly(...t))},"Hourly",2),(0,i._)("button",{class:(0,r.C_)({active:s.isOneDayActive}),onClick:e[1]||(e[1]=(...t)=>n.switchTo1Day&&n.switchTo1Day(...t))},"1 Day",2),(0,i._)("button",{class:(0,r.C_)({active:s.isFiveDaysActive}),onClick:e[2]||(e[2]=(...t)=>n.switchTo5Days&&n.switchTo5Days(...t))},"5 Days",2)]),s.isHourlyActive?((0,i.wg)(),(0,i.iD)("div",$,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.processedForecast,(t=>((0,i.wg)(),(0,i.iD)("div",{key:t.dt,class:"forecast-item weather-forecast__item"},[(0,i._)("p",N,(0,r.zw)(t.dt_txt),1),(0,i._)("img",{src:"https://openweathermap.org/img/wn/"+t.weather[0].icon+"@4x.png",alt:"Weather Icon",class:"forecast-item__icon"},null,8,R),(0,i._)("p",Y,"Temperature: "+(0,r.zw)(Math.round(t.main.temp))+" °C",1),(0,i._)("p",L,"Humidity: "+(0,r.zw)(t.main.humidity)+"%",1)])))),128))])):s.isOneDayActive?((0,i.wg)(),(0,i.iD)("div",K,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.processedForecast.slice(0,1),(t=>((0,i.wg)(),(0,i.iD)("div",{key:t.date,class:"forecast-item weather-forecast__item"},[(0,i._)("p",U,(0,r.zw)(t.date),1),(0,i._)("img",{src:"https://openweathermap.org/img/wn/"+t.icon+"@4x.png",alt:"Weather Icon",class:"forecast-item__icon"},null,8,J),(0,i._)("p",V,"Avg Temperature: "+(0,r.zw)(t.averageTemp)+" °C",1),(0,i._)("p",G,"Humidity: "+(0,r.zw)(t.averageHumidity)+"%",1)])))),128))])):s.isFiveDaysActive?((0,i.wg)(),(0,i.iD)("div",Q,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.processedForecast,(t=>((0,i.wg)(),(0,i.iD)("div",{key:t.date,class:"forecast-item weather-forecast__item"},[(0,i._)("p",X,(0,r.zw)(t.date),1),(0,i._)("img",{src:"https://openweathermap.org/img/wn/"+t.icon+"@4x.png",alt:"Weather Icon",class:"forecast-item__icon"},null,8,tt),(0,i._)("p",et,"Avg Temperature: "+(0,r.zw)(t.averageTemp)+" °C",1),(0,i._)("p",at,"Humidity: "+(0,r.zw)(t.averageHumidity)+"%",1)])))),128))])):(0,i.kq)("",!0)])}var ot={name:"CityWeatherForecastCard",props:{forecastData:{type:Array,required:!0}},computed:{processedForecast(){const t=(new Date).toLocaleDateString();if(this.isHourlyActive)return this.forecastData;if(this.isOneDayActive){const e=this.calculateDayAverages(t);return e?[e]:[]}return this.isFiveDaysActive?this.calculate5DaysAverages(t):[]}},data(){return{isHourlyActive:!0,isOneDayActive:!1,isFiveDaysActive:!1}},methods:{switchToHourly(){this.isHourlyActive=!0,this.isOneDayActive=!1,this.isFiveDaysActive=!1},switchTo1Day(){this.isHourlyActive=!1,this.isOneDayActive=!0,this.isFiveDaysActive=!1},switchTo5Days(){this.isHourlyActive=!1,this.isOneDayActive=!1,this.isFiveDaysActive=!0},calculateDayAverages(t){const e=this.forecastData.filter((e=>new Date(e.dt_txt.split(" ")[0]).toLocaleDateString()===t));return 0===e.length?null:{date:e[0].dt_txt.split(" ")[0],icon:e[0].weather[0].icon,averageTemp:this.calculateAverage(e.map((t=>t.main.temp))),averageHumidity:this.calculateAverage(e.map((t=>t.main.humidity)))}},calculate5DaysAverages(){const t={};return this.forecastData.forEach((e=>{const a=e.dt_txt.split(" ")[0],i=Math.round(e.main.temp),o=Math.round(e.main.humidity);t[a]?(t[a].temps.push(e.main.temp),t[a].humidities.push(e.main.humidity)):t[a]={date:a,icon:e.weather[0].icon,temps:[i],humidities:[o]}})),Object.values(t).map((t=>({date:t.date,icon:t.icon,averageTemp:this.calculateAverage(t.temps),averageHumidity:this.calculateAverage(t.humidities)})))},calculateAverage(t){return Math.round(t.reduce(((t,e)=>t+e),0)/t.length)}}};const rt=(0,j.Z)(ot,[["render",it],["__scopeId","data-v-62263a3c"]]);var st=rt;const nt={class:"weather-chart"},ct={ref:"chartCanvas"};function lt(t,e,a,o,r,s){return(0,i.wg)(),(0,i.iD)("div",nt,[(0,i._)("canvas",ct,null,512)])}var dt=a(1632),ut={name:"CityWeatherForecastChart",props:{forecastData:{type:Array,required:!0}},data(){return{chart:null}},methods:{renderChart(){const t=this.forecastData.filter((t=>{const e=new Date,a=new Date(t.dt_txt);return a.getDate()===e.getDate()&&a.getMonth()===e.getMonth()&&a.getFullYear()===e.getFullYear()})),e=t.map((t=>t.dt_txt.split(" ")[1])),a=this.forecastData.map((t=>Math.round(t.main.temp))),i=this.$refs.chartCanvas.getContext("2d");this.chart=new dt.ZP(i,{type:"bar",data:{labels:e,datasets:[{label:"Temperature (°C)",data:a,borderColor:"#007bff",backgroundColor:"rgba(0,123,255,0.1)",borderWidth:2,color:"#777"}]},options:{scales:{x:{ticks:{color:"#777",font:{size:16,weight:700,family:"Roboto"}}},y:{ticks:{color:"#777",font:{size:16,weight:700,family:"Roboto"}}}},plugins:{legend:{position:"bottom",labels:{color:"#777",font:{size:16,weight:700,family:"Roboto"}}},title:{display:!0,text:"Current day hourly temperature chart",color:"#444",font:{size:24,weight:700,family:"Roboto"}}}}})}},mounted(){this.renderChart()}};const ht=(0,j.Z)(ut,[["render",lt],["__scopeId","data-v-5b134af5"]]);var pt=ht,mt={name:"CityWeatherBlock",components:{CityInfo:q,CityWeatherForecastCard:st,CityWeatherForecastChart:pt},props:{favoriteCity:{type:Object,default:null},readOnlyMode:{type:Boolean,default:!1}},computed:{favoriteCities(){return JSON.parse(localStorage.getItem("favoriteCities"))||[]}},data(){return{searchInput:"",searchResults:[],selectedCity:null,forecastData:[],isFavorite:!1}},methods:{handleInput(){this.searchInput.length<3?this.searchResults=[]:this.getCities()},selectCity(t){if(this.selectedCity&&this.selectedCity.id===t.id)return this.searchInput="",void(this.searchResults=[]);this.isFavorite=!1,this.searchInput="",this.searchResults=[],this.getForecast(t)},toggleFavoriteStatus(){const t=[...this.favoriteCities],e=t.findIndex((t=>t.id===this.selectedCity.id));this.isFavorite=!this.isFavorite,this.isFavorite&&-1===e?t.push(this.selectedCity):this.isFavorite||-1===e||t.splice(e,1),this.favoriteCities=[...t],localStorage.setItem("favoriteCities",JSON.stringify(t))},async getCities(){try{const t=await this.$api.weather.getCities({q:this.searchInput,type:"like"});this.searchResults=t.data.list}catch(t){console.error("Get cities request error:",t)}},async getForecast(t){try{const{data:e}=await this.$api.weather.getThreeHourForecast({lat:t.coord.lat,lon:t.coord.lon,exclude:"minutely,daily,alerts"});this.forecastData=e.list,this.selectedCity={...t,additionalInfo:{...e.city}}}catch(e){console.error("Error fetching forecast:",e)}}},created(){this.favoriteCity&&(this.isFavorite=!0,this.getForecast(this.favoriteCity))}};const ft=(0,j.Z)(mt,[["render",b],["__scopeId","data-v-4a65c15a"]]);var vt=ft}},e={};function a(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,i,o,r){if(!i){var s=1/0;for(d=0;d<t.length;d++){i=t[d][0],o=t[d][1],r=t[d][2];for(var n=!0,c=0;c<i.length;c++)(!1&r||s>=r)&&Object.keys(a.O).every((function(t){return a.O[t](i[c])}))?i.splice(c--,1):(n=!1,r<s&&(s=r));if(n){t.splice(d--,1);var l=o();void 0!==l&&(e=l)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[i,o,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,i){return a.f[i](t,e),e}),[]))}}(),function(){a.u=function(t){return"js/"+t+".126feac4.js"}}(),function(){a.miniCssF=function(t){return"css/"+t+".beaf9163.css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="weather-app-test-task:";a.l=function(i,o,r,s){if(t[i])t[i].push(o);else{var n,c;if(void 0!==r)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==e+r){n=u;break}}n||(c=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",e+r),n.src=i),t[i]=[o];var h=function(e,a){n.onerror=n.onload=null,clearTimeout(p);var o=t[i];if(delete t[i],n.parentNode&&n.parentNode.removeChild(n),o&&o.forEach((function(t){return t(a)})),e)return e(a)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=h.bind(null,n.onerror),n.onload=h.bind(null,n.onload),c&&document.head.appendChild(n)}}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/weather-app-test-task/"}(),function(){if("undefined"!==typeof document){var t=function(t,e,a,i,o){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var s=function(a){if(r.onerror=r.onload=null,"load"===a.type)i();else{var s=a&&("load"===a.type?"missing":a.type),n=a&&a.target&&a.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=n,r.parentNode&&r.parentNode.removeChild(r),o(c)}};return r.onerror=r.onload=s,r.href=e,a?a.parentNode.insertBefore(r,a.nextSibling):document.head.appendChild(r),r},e=function(t,e){for(var a=document.getElementsByTagName("link"),i=0;i<a.length;i++){var o=a[i],r=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(r===t||r===e))return o}var s=document.getElementsByTagName("style");for(i=0;i<s.length;i++){o=s[i],r=o.getAttribute("data-href");if(r===t||r===e)return o}},i=function(i){return new Promise((function(o,r){var s=a.miniCssF(i),n=a.p+s;if(e(s,n))return o();t(i,n,null,o,r)}))},o={826:0};a.f.miniCss=function(t,e){var a={626:1};o[t]?e.push(o[t]):0!==o[t]&&a[t]&&e.push(o[t]=i(t).then((function(){o[t]=0}),(function(e){throw delete o[t],e})))}}}(),function(){var t={826:0};a.f.j=function(e,i){var o=a.o(t,e)?t[e]:void 0;if(0!==o)if(o)i.push(o[2]);else{var r=new Promise((function(a,i){o=t[e]=[a,i]}));i.push(o[2]=r);var s=a.p+a.u(e),n=new Error,c=function(i){if(a.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var r=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;n.message="Loading chunk "+e+" failed.\n("+r+": "+s+")",n.name="ChunkLoadError",n.type=r,n.request=s,o[1](n)}};a.l(s,c,"chunk-"+e,e)}},a.O.j=function(e){return 0===t[e]};var e=function(e,i){var o,r,s=i[0],n=i[1],c=i[2],l=0;if(s.some((function(e){return 0!==t[e]}))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(c)var d=c(a)}for(e&&e(i);l<s.length;l++)r=s[l],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(d)},i=self["webpackChunkweather_app_test_task"]=self["webpackChunkweather_app_test_task"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(6992)}));i=a.O(i)})();
//# sourceMappingURL=index.57378090.js.map